<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ë³¸ì–´ í•™ìŠµ ì‚¬ì´íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ */
        nav {
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav h1 {
            color: #667eea;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .nav-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            background: #f0f0f0;
            color: #333;
        }

        .nav-btn:hover, .nav-btn.active {
            background: #667eea;
            color: white;
        }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            color: #333;
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        /* í™ˆ ì„¹ì…˜ */
        .home-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .home-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .home-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        .home-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .home-card .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        /* ë¬¸ìí‘œ */
        .char-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            justify-content: center;
        }

        .char-tab {
            padding: 0.8rem 2rem;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .char-tab.active, .char-tab:hover {
            background: #667eea;
            color: white;
        }

        .char-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 0.5rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .char-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 0.8rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .char-card:hover {
            background: #667eea;
            color: white;
            transform: scale(1.1);
        }

        .char-card .japanese {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .char-card .romaji {
            font-size: 0.7rem;
            color: #666;
            margin-top: 0.2rem;
        }

        .char-card:hover .romaji {
            color: rgba(255,255,255,0.8);
        }

        /* í”Œë˜ì‹œì¹´ë“œ */
        .flashcard-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .flashcard {
            width: 300px;
            height: 200px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .flashcard-front {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .flashcard-front .word {
            font-size: 3rem;
            font-weight: bold;
        }

        .flashcard-front .reading {
            font-size: 1.2rem;
            margin-top: 0.5rem;
            opacity: 0.9;
        }

        .flashcard-back {
            background: white;
            color: #333;
            transform: rotateY(180deg);
            border: 3px solid #667eea;
        }

        .flashcard-back .meaning {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .flashcard-back .example {
            font-size: 0.9rem;
            color: #666;
            margin-top: 1rem;
            text-align: center;
            padding: 0 1rem;
        }

        .flashcard-controls {
            display: flex;
            gap: 1rem;
        }

        .control-btn {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .control-btn.prev, .control-btn.next {
            background: #667eea;
            color: white;
        }

        .control-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .progress-text {
            color: #666;
            font-size: 1rem;
        }

        /* í€´ì¦ˆ */
        .quiz-container {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .quiz-question {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 2rem;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .quiz-option {
            padding: 1.5rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            background: white;
        }

        .quiz-option:hover {
            border-color: #667eea;
            background: #f0f0ff;
        }

        .quiz-option.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .quiz-option.wrong {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .quiz-score {
            margin-top: 2rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            font-size: 1.2rem;
        }

        .quiz-type-selector {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        /* ì—°ìŠµ ëª¨ë“œ */
        .practice-container {
            max-width: 500px;
            margin: 0 auto;
            text-align: center;
        }

        .practice-char {
            font-size: 5rem;
            color: #667eea;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 15px;
            margin-bottom: 2rem;
        }

        .practice-input {
            width: 100%;
            padding: 1rem;
            font-size: 1.5rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 1rem;
        }

        .practice-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .practice-result {
            padding: 1rem;
            border-radius: 10px;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        .practice-result.correct {
            background: #e8f5e9;
            color: #4caf50;
        }

        .practice-result.wrong {
            background: #ffebee;
            color: #f44336;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .section {
                padding: 1.5rem;
            }

            .quiz-options {
                grid-template-columns: 1fr;
            }

            .flashcard {
                width: 280px;
                height: 180px;
            }

            .char-grid {
                grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            }
        }
    </style>
</head>
<body>
    <nav>
        <h1>ğŸ‡¯ğŸ‡µ ì¼ë³¸ì–´ í•™ìŠµ</h1>
        <div class="nav-buttons">
            <button class="nav-btn active" data-section="home">í™ˆ</button>
            <button class="nav-btn" data-section="hiragana">íˆë¼ê°€ë‚˜</button>
            <button class="nav-btn" data-section="katakana">ê°€íƒ€ì¹´ë‚˜</button>
            <button class="nav-btn" data-section="practice">ì—°ìŠµ</button>
            <button class="nav-btn" data-section="flashcard">ë‹¨ì–´ì¥</button>
            <button class="nav-btn" data-section="quiz">í€´ì¦ˆ</button>
        </div>
    </nav>

    <div class="container">
        <!-- í™ˆ -->
        <section id="home" class="section active">
            <h2 class="section-title">ì¼ë³¸ì–´ í•™ìŠµì„ ì‹œì‘í•˜ì„¸ìš”!</h2>
            <p style="text-align: center; color: #666; margin-bottom: 1rem;">
                íˆë¼ê°€ë‚˜, ê°€íƒ€ì¹´ë‚˜, ë‹¨ì–´ë¥¼ ì¬ë¯¸ìˆê²Œ ë°°ì›Œë³´ì„¸ìš”.
            </p>
            <div class="home-grid">
                <div class="home-card" data-goto="hiragana">
                    <div class="icon">ã‚</div>
                    <h3>íˆë¼ê°€ë‚˜</h3>
                    <p>ê¸°ë³¸ ì¼ë³¸ì–´ ë¬¸ì 46ì</p>
                </div>
                <div class="home-card" data-goto="katakana">
                    <div class="icon">ã‚¢</div>
                    <h3>ê°€íƒ€ì¹´ë‚˜</h3>
                    <p>ì™¸ë˜ì–´ í‘œê¸° ë¬¸ì 46ì</p>
                </div>
                <div class="home-card" data-goto="practice">
                    <div class="icon">âœï¸</div>
                    <h3>ì—°ìŠµ</h3>
                    <p>ë¬¸ì ì½ê¸° ì—°ìŠµ</p>
                </div>
                <div class="home-card" data-goto="flashcard">
                    <div class="icon">ğŸ“š</div>
                    <h3>ë‹¨ì–´ì¥</h3>
                    <p>í”Œë˜ì‹œì¹´ë“œë¡œ ë‹¨ì–´ ì•”ê¸°</p>
                </div>
                <div class="home-card" data-goto="quiz">
                    <div class="icon">â“</div>
                    <h3>í€´ì¦ˆ</h3>
                    <p>í•™ìŠµ ë‚´ìš© í…ŒìŠ¤íŠ¸</p>
                </div>
            </div>
        </section>

        <!-- íˆë¼ê°€ë‚˜ -->
        <section id="hiragana" class="section">
            <h2 class="section-title">íˆë¼ê°€ë‚˜ (ã²ã‚‰ãŒãª)</h2>
            <p style="text-align: center; color: #666; margin-bottom: 1.5rem;">
                í´ë¦­í•˜ë©´ ë°œìŒì„ ë“¤ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
            </p>
            <div class="char-grid" id="hiragana-grid"></div>
        </section>

        <!-- ê°€íƒ€ì¹´ë‚˜ -->
        <section id="katakana" class="section">
            <h2 class="section-title">ê°€íƒ€ì¹´ë‚˜ (ã‚«ã‚¿ã‚«ãƒŠ)</h2>
            <p style="text-align: center; color: #666; margin-bottom: 1.5rem;">
                í´ë¦­í•˜ë©´ ë°œìŒì„ ë“¤ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
            </p>
            <div class="char-grid" id="katakana-grid"></div>
        </section>

        <!-- ì—°ìŠµ -->
        <section id="practice" class="section">
            <h2 class="section-title">ë¬¸ì ì—°ìŠµ</h2>
            <div class="char-tabs">
                <button class="char-tab active" data-type="hiragana">íˆë¼ê°€ë‚˜</button>
                <button class="char-tab" data-type="katakana">ê°€íƒ€ì¹´ë‚˜</button>
            </div>
            <div class="practice-container">
                <div class="practice-char" id="practice-char">ã‚</div>
                <input type="text" class="practice-input" id="practice-input" placeholder="ë¡œë§ˆìë¡œ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: a)">
                <div class="practice-result" id="practice-result" style="display: none;"></div>
                <button class="control-btn next" id="practice-next">ë‹¤ìŒ ë¬¸ì</button>
                <p class="progress-text" style="margin-top: 1rem;">
                    ì •ë‹µ: <span id="practice-correct">0</span> / ì „ì²´: <span id="practice-total">0</span>
                </p>
            </div>
        </section>

        <!-- í”Œë˜ì‹œì¹´ë“œ -->
        <section id="flashcard" class="section">
            <h2 class="section-title">ë‹¨ì–´ í”Œë˜ì‹œì¹´ë“œ</h2>
            <div class="flashcard-container">
                <p style="color: #666;">ì¹´ë“œë¥¼ í´ë¦­í•˜ë©´ ë’¤ì§‘í™ë‹ˆë‹¤</p>
                <div class="flashcard" id="flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <div class="word" id="card-word">çŒ«</div>
                            <div class="reading" id="card-reading">ã­ã“</div>
                        </div>
                        <div class="flashcard-back">
                            <div class="meaning" id="card-meaning">ê³ ì–‘ì´</div>
                            <div class="example" id="card-example">çŒ«ãŒå¥½ãã§ã™ã€‚<br>(ê³ ì–‘ì´ë¥¼ ì¢‹ì•„í•©ë‹ˆë‹¤)</div>
                        </div>
                    </div>
                </div>
                <div class="flashcard-controls">
                    <button class="control-btn prev" id="card-prev">â—€ ì´ì „</button>
                    <button class="control-btn next" id="card-next">ë‹¤ìŒ â–¶</button>
                </div>
                <p class="progress-text">
                    <span id="card-current">1</span> / <span id="card-total">10</span>
                </p>
            </div>
        </section>

        <!-- í€´ì¦ˆ -->
        <section id="quiz" class="section">
            <h2 class="section-title">í€´ì¦ˆ</h2>
            <div class="quiz-type-selector">
                <button class="char-tab active" data-quiz="hiragana">íˆë¼ê°€ë‚˜</button>
                <button class="char-tab" data-quiz="katakana">ê°€íƒ€ì¹´ë‚˜</button>
                <button class="char-tab" data-quiz="word">ë‹¨ì–´</button>
            </div>
            <div class="quiz-container">
                <div class="quiz-question" id="quiz-question">ã‚</div>
                <div class="quiz-options" id="quiz-options"></div>
                <div class="quiz-score">
                    ì ìˆ˜: <span id="quiz-score">0</span> / <span id="quiz-total">0</span>
                </div>
                <button class="control-btn next" id="quiz-next" style="margin-top: 1rem;">ë‹¤ìŒ ë¬¸ì œ</button>
            </div>
        </section>
    </div>

    <script>
        // íˆë¼ê°€ë‚˜ ë°ì´í„°
        const hiragana = [
            { char: 'ã‚', romaji: 'a' }, { char: 'ã„', romaji: 'i' }, { char: 'ã†', romaji: 'u' }, { char: 'ãˆ', romaji: 'e' }, { char: 'ãŠ', romaji: 'o' },
            { char: 'ã‹', romaji: 'ka' }, { char: 'ã', romaji: 'ki' }, { char: 'ã', romaji: 'ku' }, { char: 'ã‘', romaji: 'ke' }, { char: 'ã“', romaji: 'ko' },
            { char: 'ã•', romaji: 'sa' }, { char: 'ã—', romaji: 'shi' }, { char: 'ã™', romaji: 'su' }, { char: 'ã›', romaji: 'se' }, { char: 'ã', romaji: 'so' },
            { char: 'ãŸ', romaji: 'ta' }, { char: 'ã¡', romaji: 'chi' }, { char: 'ã¤', romaji: 'tsu' }, { char: 'ã¦', romaji: 'te' }, { char: 'ã¨', romaji: 'to' },
            { char: 'ãª', romaji: 'na' }, { char: 'ã«', romaji: 'ni' }, { char: 'ã¬', romaji: 'nu' }, { char: 'ã­', romaji: 'ne' }, { char: 'ã®', romaji: 'no' },
            { char: 'ã¯', romaji: 'ha' }, { char: 'ã²', romaji: 'hi' }, { char: 'ãµ', romaji: 'fu' }, { char: 'ã¸', romaji: 'he' }, { char: 'ã»', romaji: 'ho' },
            { char: 'ã¾', romaji: 'ma' }, { char: 'ã¿', romaji: 'mi' }, { char: 'ã‚€', romaji: 'mu' }, { char: 'ã‚', romaji: 'me' }, { char: 'ã‚‚', romaji: 'mo' },
            { char: 'ã‚„', romaji: 'ya' }, { char: 'ã‚†', romaji: 'yu' }, { char: 'ã‚ˆ', romaji: 'yo' },
            { char: 'ã‚‰', romaji: 'ra' }, { char: 'ã‚Š', romaji: 'ri' }, { char: 'ã‚‹', romaji: 'ru' }, { char: 'ã‚Œ', romaji: 're' }, { char: 'ã‚', romaji: 'ro' },
            { char: 'ã‚', romaji: 'wa' }, { char: 'ã‚’', romaji: 'wo' }, { char: 'ã‚“', romaji: 'n' }
        ];

        // ê°€íƒ€ì¹´ë‚˜ ë°ì´í„°
        const katakana = [
            { char: 'ã‚¢', romaji: 'a' }, { char: 'ã‚¤', romaji: 'i' }, { char: 'ã‚¦', romaji: 'u' }, { char: 'ã‚¨', romaji: 'e' }, { char: 'ã‚ª', romaji: 'o' },
            { char: 'ã‚«', romaji: 'ka' }, { char: 'ã‚­', romaji: 'ki' }, { char: 'ã‚¯', romaji: 'ku' }, { char: 'ã‚±', romaji: 'ke' }, { char: 'ã‚³', romaji: 'ko' },
            { char: 'ã‚µ', romaji: 'sa' }, { char: 'ã‚·', romaji: 'shi' }, { char: 'ã‚¹', romaji: 'su' }, { char: 'ã‚»', romaji: 'se' }, { char: 'ã‚½', romaji: 'so' },
            { char: 'ã‚¿', romaji: 'ta' }, { char: 'ãƒ', romaji: 'chi' }, { char: 'ãƒ„', romaji: 'tsu' }, { char: 'ãƒ†', romaji: 'te' }, { char: 'ãƒˆ', romaji: 'to' },
            { char: 'ãƒŠ', romaji: 'na' }, { char: 'ãƒ‹', romaji: 'ni' }, { char: 'ãƒŒ', romaji: 'nu' }, { char: 'ãƒ', romaji: 'ne' }, { char: 'ãƒ', romaji: 'no' },
            { char: 'ãƒ', romaji: 'ha' }, { char: 'ãƒ’', romaji: 'hi' }, { char: 'ãƒ•', romaji: 'fu' }, { char: 'ãƒ˜', romaji: 'he' }, { char: 'ãƒ›', romaji: 'ho' },
            { char: 'ãƒ', romaji: 'ma' }, { char: 'ãƒŸ', romaji: 'mi' }, { char: 'ãƒ ', romaji: 'mu' }, { char: 'ãƒ¡', romaji: 'me' }, { char: 'ãƒ¢', romaji: 'mo' },
            { char: 'ãƒ¤', romaji: 'ya' }, { char: 'ãƒ¦', romaji: 'yu' }, { char: 'ãƒ¨', romaji: 'yo' },
            { char: 'ãƒ©', romaji: 'ra' }, { char: 'ãƒª', romaji: 'ri' }, { char: 'ãƒ«', romaji: 'ru' }, { char: 'ãƒ¬', romaji: 're' }, { char: 'ãƒ­', romaji: 'ro' },
            { char: 'ãƒ¯', romaji: 'wa' }, { char: 'ãƒ²', romaji: 'wo' }, { char: 'ãƒ³', romaji: 'n' }
        ];

        // ë‹¨ì–´ ë°ì´í„°
        const vocabulary = [
            { word: 'çŒ«', reading: 'ã­ã“', meaning: 'ê³ ì–‘ì´', example: 'çŒ«ãŒå¥½ãã§ã™ã€‚(ê³ ì–‘ì´ë¥¼ ì¢‹ì•„í•©ë‹ˆë‹¤)' },
            { word: 'çŠ¬', reading: 'ã„ã¬', meaning: 'ê°œ', example: 'çŠ¬ã‚’é£¼ã£ã¦ã„ã¾ã™ã€‚(ê°œë¥¼ í‚¤ìš°ê³  ìˆìŠµë‹ˆë‹¤)' },
            { word: 'æ°´', reading: 'ã¿ãš', meaning: 'ë¬¼', example: 'æ°´ã‚’ãã ã•ã„ã€‚(ë¬¼ì„ ì£¼ì„¸ìš”)' },
            { word: 'å±±', reading: 'ã‚„ã¾', meaning: 'ì‚°', example: 'å±±ã«ç™»ã‚Šã¾ã™ã€‚(ì‚°ì— ì˜¤ë¦…ë‹ˆë‹¤)' },
            { word: 'å·', reading: 'ã‹ã‚', meaning: 'ê°•', example: 'å·ã§æ³³ãã¾ã™ã€‚(ê°•ì—ì„œ ìˆ˜ì˜í•©ë‹ˆë‹¤)' },
            { word: 'èŠ±', reading: 'ã¯ãª', meaning: 'ê½ƒ', example: 'èŠ±ãŒå’²ãã¾ã—ãŸã€‚(ê½ƒì´ í”¼ì—ˆìŠµë‹ˆë‹¤)' },
            { word: 'ç©º', reading: 'ãã‚‰', meaning: 'í•˜ëŠ˜', example: 'ç©ºãŒé’ã„ã§ã™ã€‚(í•˜ëŠ˜ì´ íŒŒë—ìŠµë‹ˆë‹¤)' },
            { word: 'æœ¬', reading: 'ã»ã‚“', meaning: 'ì±…', example: 'æœ¬ã‚’èª­ã¿ã¾ã™ã€‚(ì±…ì„ ì½ìŠµë‹ˆë‹¤)' },
            { word: 'é£Ÿã¹ã‚‹', reading: 'ãŸã¹ã‚‹', meaning: 'ë¨¹ë‹¤', example: 'ã”é£¯ã‚’é£Ÿã¹ã¾ã™ã€‚(ë°¥ì„ ë¨¹ìŠµë‹ˆë‹¤)' },
            { word: 'é£²ã‚€', reading: 'ã®ã‚€', meaning: 'ë§ˆì‹œë‹¤', example: 'ãŠèŒ¶ã‚’é£²ã¿ã¾ã™ã€‚(ì°¨ë¥¼ ë§ˆì‹­ë‹ˆë‹¤)' },
            { word: 'è¦‹ã‚‹', reading: 'ã¿ã‚‹', meaning: 'ë³´ë‹¤', example: 'ãƒ†ãƒ¬ãƒ“ã‚’è¦‹ã¾ã™ã€‚(TVë¥¼ ë´…ë‹ˆë‹¤)' },
            { word: 'èã', reading: 'ãã', meaning: 'ë“£ë‹¤', example: 'éŸ³æ¥½ã‚’èãã¾ã™ã€‚(ìŒì•…ì„ ë“£ìŠµë‹ˆë‹¤)' },
            { word: 'è¡Œã', reading: 'ã„ã', meaning: 'ê°€ë‹¤', example: 'å­¦æ ¡ã«è¡Œãã¾ã™ã€‚(í•™êµì— ê°‘ë‹ˆë‹¤)' },
            { word: 'æ¥ã‚‹', reading: 'ãã‚‹', meaning: 'ì˜¤ë‹¤', example: 'å‹é”ãŒæ¥ã¾ã™ã€‚(ì¹œêµ¬ê°€ ì˜µë‹ˆë‹¤)' },
            { word: 'å¤§ãã„', reading: 'ãŠãŠãã„', meaning: 'í¬ë‹¤', example: 'å¤§ãã„å®¶ã§ã™ã€‚(í° ì§‘ì…ë‹ˆë‹¤)' },
            { word: 'å°ã•ã„', reading: 'ã¡ã„ã•ã„', meaning: 'ì‘ë‹¤', example: 'å°ã•ã„çŒ«ã§ã™ã€‚(ì‘ì€ ê³ ì–‘ì´ì…ë‹ˆë‹¤)' },
            { word: 'æ–°ã—ã„', reading: 'ã‚ãŸã‚‰ã—ã„', meaning: 'ìƒˆë¡­ë‹¤', example: 'æ–°ã—ã„æœ¬ã§ã™ã€‚(ìƒˆ ì±…ì…ë‹ˆë‹¤)' },
            { word: 'å¤ã„', reading: 'ãµã‚‹ã„', meaning: 'ì˜¤ë˜ë˜ë‹¤', example: 'å¤ã„å»ºç‰©ã§ã™ã€‚(ì˜¤ë˜ëœ ê±´ë¬¼ì…ë‹ˆë‹¤)' },
            { word: 'ä»Šæ—¥', reading: 'ãã‚‡ã†', meaning: 'ì˜¤ëŠ˜', example: 'ä»Šæ—¥ã¯æš‘ã„ã§ã™ã€‚(ì˜¤ëŠ˜ì€ ë¥ìŠµë‹ˆë‹¤)' },
            { word: 'æ˜æ—¥', reading: 'ã‚ã—ãŸ', meaning: 'ë‚´ì¼', example: 'æ˜æ—¥ä¼šã„ã¾ã—ã‚‡ã†ã€‚(ë‚´ì¼ ë§Œë‚˜ìš”)' }
        ];

        // ë„¤ë¹„ê²Œì´ì…˜
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                showSection(btn.dataset.section);
            });
        });

        // í™ˆ ì¹´ë“œ í´ë¦­
        document.querySelectorAll('.home-card').forEach(card => {
            card.addEventListener('click', () => {
                const section = card.dataset.goto;
                document.querySelectorAll('.nav-btn').forEach(b => {
                    b.classList.toggle('active', b.dataset.section === section);
                });
                showSection(section);
            });
        });

        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // ë¬¸ìí‘œ ìƒì„±
        function createCharGrid(container, chars) {
            const grid = document.getElementById(container);
            grid.innerHTML = '';
            chars.forEach(item => {
                const card = document.createElement('div');
                card.className = 'char-card';
                card.innerHTML = `
                    <div class="japanese">${item.char}</div>
                    <div class="romaji">${item.romaji}</div>
                `;
                card.addEventListener('click', () => speak(item.char));
                grid.appendChild(card);
            });
        }

        createCharGrid('hiragana-grid', hiragana);
        createCharGrid('katakana-grid', katakana);

        // ìŒì„± í•©ì„±
        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ja-JP';
            utterance.rate = 0.8;
            speechSynthesis.speak(utterance);
        }

        // ì—°ìŠµ ëª¨ë“œ
        let practiceType = 'hiragana';
        let practiceIndex = 0;
        let practiceCorrect = 0;
        let practiceTotal = 0;

        document.querySelectorAll('#practice .char-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('#practice .char-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                practiceType = tab.dataset.type;
                nextPractice();
            });
        });

        function getRandomChar() {
            const chars = practiceType === 'hiragana' ? hiragana : katakana;
            return chars[Math.floor(Math.random() * chars.length)];
        }

        let currentPracticeChar = getRandomChar();

        function nextPractice() {
            currentPracticeChar = getRandomChar();
            document.getElementById('practice-char').textContent = currentPracticeChar.char;
            document.getElementById('practice-input').value = '';
            document.getElementById('practice-result').style.display = 'none';
            document.getElementById('practice-input').focus();
        }

        document.getElementById('practice-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkPractice();
            }
        });

        document.getElementById('practice-next').addEventListener('click', nextPractice);

        function checkPractice() {
            const input = document.getElementById('practice-input').value.toLowerCase().trim();
            const result = document.getElementById('practice-result');
            practiceTotal++;

            if (input === currentPracticeChar.romaji) {
                practiceCorrect++;
                result.textContent = 'ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰';
                result.className = 'practice-result correct';
            } else {
                result.textContent = `í‹€ë ¸ìŠµë‹ˆë‹¤. ì •ë‹µ: ${currentPracticeChar.romaji}`;
                result.className = 'practice-result wrong';
            }
            result.style.display = 'block';
            document.getElementById('practice-correct').textContent = practiceCorrect;
            document.getElementById('practice-total').textContent = practiceTotal;
        }

        // í”Œë˜ì‹œì¹´ë“œ
        let cardIndex = 0;

        function updateCard() {
            const card = vocabulary[cardIndex];
            document.getElementById('card-word').textContent = card.word;
            document.getElementById('card-reading').textContent = card.reading;
            document.getElementById('card-meaning').textContent = card.meaning;
            document.getElementById('card-example').innerHTML = card.example.replace('(', '<br>(');
            document.getElementById('card-current').textContent = cardIndex + 1;
            document.getElementById('card-total').textContent = vocabulary.length;
            document.getElementById('flashcard').classList.remove('flipped');
        }

        document.getElementById('flashcard').addEventListener('click', function() {
            this.classList.toggle('flipped');
        });

        document.getElementById('card-prev').addEventListener('click', () => {
            cardIndex = (cardIndex - 1 + vocabulary.length) % vocabulary.length;
            updateCard();
        });

        document.getElementById('card-next').addEventListener('click', () => {
            cardIndex = (cardIndex + 1) % vocabulary.length;
            updateCard();
        });

        updateCard();

        // í€´ì¦ˆ
        let quizType = 'hiragana';
        let quizScore = 0;
        let quizTotal = 0;
        let currentQuizAnswer = '';
        let canAnswer = true;

        document.querySelectorAll('[data-quiz]').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('[data-quiz]').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                quizType = tab.dataset.quiz;
                quizScore = 0;
                quizTotal = 0;
                updateQuizScore();
                nextQuiz();
            });
        });

        function nextQuiz() {
            canAnswer = true;
            const options = document.getElementById('quiz-options');
            options.innerHTML = '';

            if (quizType === 'word') {
                // ë‹¨ì–´ í€´ì¦ˆ
                const words = [...vocabulary].sort(() => Math.random() - 0.5);
                const question = words[0];
                currentQuizAnswer = question.meaning;

                document.getElementById('quiz-question').innerHTML = `${question.word}<br><small style="font-size:1rem">(${question.reading})</small>`;

                const wrongAnswers = words.slice(1, 4).map(w => w.meaning);
                const allAnswers = [question.meaning, ...wrongAnswers].sort(() => Math.random() - 0.5);

                allAnswers.forEach(answer => {
                    const btn = document.createElement('button');
                    btn.className = 'quiz-option';
                    btn.textContent = answer;
                    btn.addEventListener('click', () => checkQuizAnswer(btn, answer));
                    options.appendChild(btn);
                });
            } else {
                // íˆë¼ê°€ë‚˜/ê°€íƒ€ì¹´ë‚˜ í€´ì¦ˆ
                const chars = quizType === 'hiragana' ? hiragana : katakana;
                const shuffled = [...chars].sort(() => Math.random() - 0.5);
                const question = shuffled[0];
                currentQuizAnswer = question.romaji;

                document.getElementById('quiz-question').textContent = question.char;

                const wrongAnswers = shuffled.slice(1, 4).map(c => c.romaji);
                const allAnswers = [question.romaji, ...wrongAnswers].sort(() => Math.random() - 0.5);

                allAnswers.forEach(answer => {
                    const btn = document.createElement('button');
                    btn.className = 'quiz-option';
                    btn.textContent = answer;
                    btn.addEventListener('click', () => checkQuizAnswer(btn, answer));
                    options.appendChild(btn);
                });
            }
        }

        function checkQuizAnswer(btn, answer) {
            if (!canAnswer) return;
            canAnswer = false;
            quizTotal++;

            if (answer === currentQuizAnswer) {
                quizScore++;
                btn.classList.add('correct');
            } else {
                btn.classList.add('wrong');
                document.querySelectorAll('.quiz-option').forEach(opt => {
                    if (opt.textContent === currentQuizAnswer) {
                        opt.classList.add('correct');
                    }
                });
            }
            updateQuizScore();
        }

        function updateQuizScore() {
            document.getElementById('quiz-score').textContent = quizScore;
            document.getElementById('quiz-total').textContent = quizTotal;
        }

        document.getElementById('quiz-next').addEventListener('click', nextQuiz);
        nextQuiz();
    </script>
</body>
</html>
